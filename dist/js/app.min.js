"use strict";angular.module("ptoApp",["ui.router","ngResource","ui.bootstrap","colorpicker.module","googleplus"]).config(["GooglePlusProvider",function(e){e.init({clientId:"977491754644-954b83j2evmq65v6kchq4dsd9j0ud4vg.apps.googleusercontent.com",apiKey:"AIzaSyDaMf0eviuFygt1hzwQz03a2k2lrLDnpIc"})}]).service("gapiService",function(){this.initGapi=function(e){gapi.client.load("helloWorld","v1",e,restURL)}}).config(["$stateProvider","$urlRouterProvider",function(e,t){e.state("app",{url:"/",views:{header:{templateUrl:"./views/header.html",controller:"HeaderController"},info:{templateUrl:"./views/login.html",controller:"LoginController"},body:{templateUrl:"./views/loginBody.html",controller:""},secondBody:{templateUrl:"./views/loginSecondBody.html",controller:""}}}).state("app.employee",{url:"employee",views:{"info@":{templateUrl:"./views/info.html",controller:"InfoController"},"body@":{templateUrl:"./views/request.html",controller:"RequestController"},"secondBody@":{templateUrl:"./views/secondRequest.html",controller:"SecondRequestController"}}}).state("app.approver",{url:"approver",views:{"info@":{templateUrl:"./views/infoApprover.html",controller:"InfoApproverController"},"body@":{templateUrl:"./views/bodyApprover.html",controller:"BodyApproverController"},"secondBody@":{templateUrl:"./views/secondBodyApprover.html",controller:"SecondBodyApproverController"}}}).state("app.admin",{url:"admin",views:{"info@":{templateUrl:"./views/infoAdmin.html",controller:"InfoAdminController"},"body@":{templateUrl:"./views/bodyAdmin.html",controller:"UsersAdminController"},"secondBody@":{templateUrl:"./views/secondBodyAdmin.html",controller:""}}}).state("app.adminTimeType",{url:"admin/timeType",views:{"info@":{templateUrl:"./views/infoAdmin.html",controller:"InfoAdminController"},"body@":{templateUrl:"./views/body_time_type.html",controller:"TimeTypeAdminController"},"secondBody@":{templateUrl:"./views/secondBodyAdmin.html",controller:"BodyAdminController"}}}).state("app.adminTimeState",{url:"admin/timestate",views:{"info@":{templateUrl:"./views/infoAdmin.html",controller:"InfoAdminController"},"body@":{templateUrl:"./views/body_time_state.html",controller:"TimeStateAdminController"},"secondBody@":{templateUrl:"./views/secondBodyAdmin.html",controller:"BodyAdminController"}}}).state("app.adminTimeOffGroup",{url:"admin/timeOffGroup",views:{"info@":{templateUrl:"./views/infoAdmin.html",controller:"InfoAdminController"},"body@":{templateUrl:"./views/body_time_off_group.html",controller:"TimeOffGroupAdminController"},"secondBody@":{templateUrl:"./views/secondBodyAdmin.html",controller:"TimeOffGroupAdminController"}}}),t.otherwise("/")}]),angular.module("ptoApp").filter("capitalize",function(){return function(e){return e?e.charAt(0).toUpperCase()+e.substr(1).toLowerCase():""}}).filter("capitalizeTitle",function(){return function(e){return e.replace(/\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})}}),angular.module("ptoApp").directive("cardView",["$filter",function(e){return{restrict:"E",scope:{cardobj:"=fcardobj",updatedb:"&update",deletedb:"&delete",adddb:"&add"},controller:["$scope","$element","$attrs","$location","$injector","timeOffGroupTestFactory","timeTypeTestFactory",function(e,t,o,n,r,i,a){function l(e){var t=e.date,o=e.mode;return"day"===o&&(0===t.getDay()||6===t.getDay())}function s(t){var o=t.date,n=t.mode;if("day"===n)for(var r=new Date(o).setHours(0,0,0,0),i=0;i<e.events.length;i++){var a=new Date(e.events[i].date).setHours(0,0,0,0);if(r===a)return e.events[i].status}return""}e.timeOffGroups=[],e.timeOffGroupSelect={},e.timeTypes=[],e.timeTypeSelect={},e.dates={},e.dates.dt=new Date,e.dates.dt2=new Date,i.query().then(function(t){e.timeOffGroups=t}).then(function(t){a.query().then(function(t){e.timeTypes=t})}),e.changeTimeType=function(){e.cardobj.timeType=e.timeTypeSelect.timeType},e.changeTimeOffGroup=function(){e.cardobj.timeOffGroup=e.timeOffGroupSelect.timeOffGroup},e.today=function(){e.dates.dt=new Date,e.dates.dt2=new Date},e.today(),e.clear=function(){e.dates.dt=null,e.dates.dt2=null},e.inlineOptions={customClass:s,minDate:new Date,showWeeks:!0},e.dateOptions={dateDisabled:l,formatYear:"yy",maxDate:new Date(2020,5,22),minDate:new Date,startingDay:1},e.toggleMin=function(){e.inlineOptions.minDate=e.inlineOptions.minDate?null:new Date,e.dateOptions.minDate=e.inlineOptions.minDate},e.toggleMin(),e.open=function(t,o){t.preventDefault(),t.stopPropagation(),e[o]=!0},e.setDate=function(t,o,n){e.dates.dt=new Date(t,o,n)},e.setDate2=function(t,o,n){e.dates.dt2=new Date(t,o,n)},e.formats=["dd-MMMM-yyyy","yyyy/MM/dd","dd.MM.yyyy","shortDate"],e.format=e.formats[0],e.altInputFormats=["M!/d!/yyyy"],e.popup1={opened:!1},e.popup2={opened:!1};var u=new Date;u.setDate(u.getDate()+1);var d=new Date;d.setDate(u.getDate()+1),e.events=[{date:u,status:"full"},{date:d,status:"partially"}]}],replace:!0,templateUrl:"views/card_view.html"}}]),angular.module("ptoApp").directive("colorChangeCard",["$filter",function(e){return{restrict:"E",scope:{cardtitle:"@",cardobj:"=",updatedb:"&update",deletedb:"&delete",adddb:"&add"},controller:["$scope","$element","$attrs","$location","$injector",function(e,t,o,n,r){e.colorChange={color:"#FFF"},e.delete=function(){e.deletedb({value:e.cardobj.id})},e.submit=function(){"edit"===e.cardobj.cardState?e.updatedb({value:e.cardobj}):"add"===e.cardobj.cardState&&e.adddb({value:e.cardobj})},e.editColor=function(){"edit"===e.cardobj.cardState?e.cardobj.cardState="view":e.cardobj.cardState="edit","view"===e.cardobj.cardState&&e.updatedb({value:e.cardobj})}}],replace:!0,templateUrl:"views/color_change_card.html"}}]),$(function(){$("#cp2").colorpicker()}),angular.module("ptoApp").controller("InfoController",["$scope","$state","$rootScope","employeeTestFactory",function(e,t,o,n){e.loggedIn={},o.callInfo=function(){n.get(o.email).then(function(t){e.loggedIn=t})}}]).controller("ContainerController",["$scope","$rootScope","$state","$window","employeeFactory","employeeTestFactory",function(e,t,o,n,r,i){function a(){gapi.client.init({apiKey:"AIzaSyDaMf0eviuFygt1hzwQz03a2k2lrLDnpIc",discoveryDocs:["https://people.googleapis.com/$discovery/rest?version=v1"],clientId:"977491754644-954b83j2evmq65v6kchq4dsd9j0ud4vg.apps.googleusercontent.com",scope:"profile"}).then(function(){gapi.auth2.getAuthInstance().isSignedIn.listen(l),l(gapi.auth2.getAuthInstance().isSignedIn.get()),e.employee=[]})}function l(e){e&&s()}function s(){gapi.client.people.people.get({resourceName:"people/me"}).then(function(o){t.email=o.result.emailAddresses[0].value,t.callRequests(),t.callInfo(),t.triggerSecond&&t.triggerSecond(),i.get(t.email).then(function(e){console.log("This is a message!:!:!:!:"+e.firstName)}),r.get({employeeid:t.email},function(o){t.employee=o,e.employeeType=o.employeeType,e.employee.push({employeeid:o.employeeid,employeeType:o.employeeType})},function(t){console.log(t),e.message="Error: "+t.status+" "+t.statusText})},function(e){console.log("Error: "+e.result.error.message)})}e.$state=o,n.initGapi=function(){console.log("gapi"),gapi.load("client:auth2",a),t.gapi=gapi},e.employeeType=t.email="",e.handleSignInClick=function(e){gapi.auth2.getAuthInstance().isSignedIn.get()||gapi.auth2.getAuthInstance().signIn()},e.handleSignOutClick=function(e){gapi.auth2.getAuthInstance().isSignedIn.get()&&gapi.auth2.getAuthInstance().signOut()}}]).controller("LoginController",["$scope","$state","$window","$http","$rootScope","$timeout","GooglePlus","gapiService",function(e,t,o,n,r,i,a,l){e.$state=t,e.callme=function(){e.handleSignInClick()};var s,u;n.get("url").then(function(e){s=e.data}),e.login=function(){u=o.open(s,"Please sign in with Google","width=500px,height=700px")},window.onmessage=function(e){u&&u.close();var t=e.data,o=t.lastIndexOf("code=");if(o!==-1){var r=t.substring(o+5).replace("#","");n.get("token?code="+r).then(function(e){var t="https://www.googleapis.com/plus/v1/people/me?access_token="+e.data.access_token;n.get(t).then(function(e){console.log("user info: "+JSON.stringify(e.data))})})}}}]).controller("RequestController",["$scope","$state","$rootScope","requestFactory","employeeRequestFactory","timeOffGroupTestFactory","timeStateTestFactory",function(e,t,o,n,r,i,a){e.requests=[],e.timeStates=[],e.timeOffGroups=[],o.callRequests=function(){console.log("records!"),i.query().then(function(t){e.timeOffGroups=t}).then(function(t){a.query().then(function(t){console.log(t),e.timeStates=t})}).then(function(t){r.query({employeeid:o.email},function(t){console.log("requests:"+t),t.forEach(function(t,o){var n={requestid:t.requestid,requestedBy:t.requestedBy,approvedBy:t.approvedBy,status:t.status,startDateTime:t.startDateTime,endDateTime:t.endDateTime,duration:t.duration,message:t.message,approverMessage:t.approverMessage,locked:t.locked,timeState:t.timeState,timeOffGroup:t.timeOffGroup,cardState:"view"};e.timeOffGroups.forEach(function(e,o){t.timeOffGroup.toLowerCase()==e.timeOffGroup.toLowerCase()&&(n.timeOffGroupColor=e.timeOffGroupColor)}),e.timeStates.forEach(function(e,o){t.timeState.toLowerCase()==e.timeState.toLowerCase()&&(n.timeStateColor=e.timeStateColor)}),e.requests.push(n)})},function(t){console.log(t),e.message="Error: "+t.status+" "+t.statusText})})},e.addNew=function(){e.timeState.unshift({entityValue:"",entityColor:"#FFFFFF",cardState:"add"})},e.deleteDB=function(e){timeStateFactory.delete({timestateid:e.id})},e.addDB=function(e){n.save({},{requestedBy:o.email,approvedBy:"",status:"pending",startDateTime:e.startDateTime,endDateTime:e.endDateTime,duration:e.duration,message:e.message,approverMessage:"",locked:"false",timeState:"pending",timeType:e.timeType,timeOffGroup:e.timeOffGroup})},e.updateDB=function(e){timeStateFactory.update({timestateid:e.id},{timeState:e.entityValue,timeStateColor:e.entityColor})},e.addRequest=function(){e.requests.unshift({requestedBy:o.email,approvedBy:"",status:"pending",startDateTime:"05-April-2017",endDateTime:new Date,duration:8,message:"",approverMessage:"",locked:"false",timeState:"pending",timeType:"single day",timeOffGroup:"",cardState:"add"})}}]).controller("SecondRequestController",["$scope","$rootScope","$state","timeOffGroupTestFactory","timeStateTestFactory","employeeRequestFactory",function(e,t,o,n,r,i){e.tab=1,e.filtText="",e.showDetails=!1,e.showDelete=!1,e.showMenu=!1,e.message="Loading ...",e.requests=[],e.timeStates=[],e.timeOffGroups=[],t.triggerSecond=function(){n.query().then(function(t){e.timeOffGroups=t}).then(function(t){r.query().then(function(t){console.log(t),e.timeStates=t})}).then(function(o){i.query({employeeid:t.email},function(t){console.log("requests:"+t),t.forEach(function(t,o){var n={requestid:t.requestid,requestedBy:t.requestedBy,approvedBy:t.approvedBy,status:t.status,startDateTime:t.startDateTime,endDateTime:t.endDateTime,duration:t.duration,message:t.message,approverMessage:t.approverMessage,locked:t.locked,timeState:t.timeState,timeOffGroup:t.timeOffGroup,cardState:"view"};e.timeOffGroups.forEach(function(e,o){t.timeOffGroup.toLowerCase()==e.timeOffGroup.toLowerCase()&&(n.timeOffGroupColor=e.timeOffGroupColor)}),e.timeStates.forEach(function(e,o){t.timeState.toLowerCase()==e.timeState.toLowerCase()&&(n.timeStateColor=e.timeStateColor)}),e.requests.push(n)})},function(t){console.log(t),e.message="Error: "+t.status+" "+t.statusText})})}}]).controller("InfoApproverController",["$scope","$state",function(e,t){}]).controller("InfoAdminController",["$scope","$state",function(e,t){e.stateis=function(e){return t.is(e)}}]).controller("BodyApproverController",["$scope","$state",function(e,t){e.testData={timeType:"Multiple Days",timeStatus:"pending request",employeeName:"Todd Coulson",dateTime:"17 Mar 2017",endDateTime:"28 Mar 2017",startTime:"9:30a",endTime:"10:30a",message:"Vacation Paris",approverMessage:"Client meeting that day, we need you!"}}]).controller("BodyAdminController",["$scope","$state",function(e,t){e.testUserAdminData={name:"Todd Coulson",employeeStartDate:"15-OCT-2016",carryoverHours:0,allocatedHoursYear:80,remainingHours:35},e.testUserAdminSetting={cardType:"view"},e.testAdminSetting={cardType:"view"}}]).controller("SecondBodyApproverController",["$scope","$state",function(e,t){}]).controller("TimeStateAdminController",["$scope","$state","timeStateFactory",function(e,t,o){e.timeState=[],o.query(function(t){t.forEach(function(t,o){e.timeState.push({id:t.timestateid,entityValue:t.timeState,entityColor:t.timeStateColor,cardState:"view"})})},function(t){console.log(t),e.message="Error: "+t.status+" "+t.statusText}),e.addNew=function(){e.timeState.unshift({entityValue:"",entityColor:"#FFFFFF",cardState:"add"})},e.deleteDB=function(e){o.delete({timestateid:e.id})},e.addDB=function(e){o.save({},{timeState:e.entityValue,timeStateColor:e.entityColor})},e.updateDB=function(e){o.update({timestateid:e.id},{timeState:e.entityValue,timeStateColor:e.entityColor})}}]).controller("TimeTypeAdminController",["$scope","$state","timeTypeFactory",function(e,t,o){e.timeType=[],o.query(function(t){t.forEach(function(t,o){e.timeType.push({id:t.timetypeid,entityValue:t.timeType,entityColor:"#FFF",cardState:"view"})})},function(t){console.log(t),e.message="Error: "+t.status+" "+t.statusText}),e.addNew=function(){e.timeType.unshift({entityValue:"",entityColor:"#FFFFFF",cardState:"add"})},e.deleteDB=function(e){o.delete({timetypeid:e.id})},e.updateDB=function(e){o.update({timetypeid:e.id},{timeType:e.entityValue})},e.addDB=function(e){o.save({},{timeType:e.entityValue})}}]).controller("TimeOffGroupAdminController",["$scope","$rootScope","$state","timeOffGroupTestFactory","timeOffGroupFactory",function(e,t,o,n,r){e.timeOffGroup=[],t.callRequests=function(){},t.callInfo=function(){},n.query().then(function(t){console.log(t),t.forEach(function(t,o){e.timeOffGroup.push({id:t.timeoffgroupid,entityValue:t.timeOffGroup,entityColor:t.timeOffGroupColor,cardState:"view"})})}),e.addNew=function(){e.timeOffGroup.unshift({entityValue:"",entityColor:"#FFFFFF",cardState:"add"})},e.deleteDB=function(e){r.delete({timeoffgroupid:e.id})},e.updateDB=function(e){r.update({timeoffgroupid:e.id},{timeOffGroup:e.entityValue,timeOffGroupColor:e.entityColor})},e.addDB=function(e){r.save({},{timeOffGroup:e.entityValue,timeOffGroupColor:e.entityColor})}}]).controller("UsersAdminController",["$scope","$state","employeeFactory","employeeTestFactory",function(e,t,o,n){e.employees=[],o.query(function(t){t.forEach(function(t,o){e.employees.push({cardState:"view",employeeid:t.employeeid,firstName:t.firstName,lastName:t.lastName,totalTimeAccrued:t.totalTimeAccrued,totalTimeUsed:t.totalTimeUsed})})},function(t){console.log(t),e.message="Error: "+t.status+" "+t.statusText}),e.addNew=function(){e.employees.unshift({cardState:"add",employeeid:"",firstName:"",lastName:"",totalTimeAccrued:0,totalTimeUsed:0})},e.deleteDB=function(t){e.employees.forEach(function(o,n){o.employeeid==t&&e.employees.splice(n,1)}),o.delete({employeeid:t})},e.updateDB=function(e){o.update({employeeid:e.id},{timeType:e.entityValue})}}]).controller("HeaderController",["$scope","$state","$rootScope","employeeFactory",function(e,t,o,n){e.stateis=function(e){return t.is(e)},e.stateincludes=function(e){return t.current.name.includes(e)}}]),angular.module("ptoApp").directive("selectDate",function(){return{scope:{value:"=",record:"=",record2:"=",inputname:"@",servicename:"@",dateFormat:"=?",action:"@",max:"=?",min:"=?"},controller:function(e,t,o,n,r,i,a){$(document).keydown(function(t){e.editing&&"13"==t.keyCode&&e.submit()});var l=r.get(e.servicename);e.editing=!1,e.oldval="",e.edit=function(){e.oldval=e.value,e.editing=!0},e.submit=function(){e.editing=!1,void 0==e.record2?l[e.action](e.record,e.value):l[e.action](e.record,e.record2,e.value)},e.cancel=function(){e.value=e.oldval,e.editing=!1},e.datepickers={},e.open=function(){i(function(){e.opened=!0})},e.openDatePicker=function(o){i(function(){e.datepickers[o]=!0,t[e.inputname].open($event)})}},restrict:"E",replace:!0,templateUrl:obj+"tm_template_select_date.html"}}),angular.module("ptoApp").directive("editInput",function(){return{scope:{value:"=",record:"=",record2:"=",servicename:"@",action:"@",currencyOn:"@",inputtype:"@?",minValue:"=?",maxValue:"@?"},controller:function(e,t,o,n,r){o.hasOwnProperty("currencyOn")?e.currencyOn=!0:e.currencyOn=!1;var i=r.get(e.servicename);e.editing=!1,e.oldval="",e.edit=function(){e.oldval=e.value,e.editing=!0},e.submit=function(){void 0==e.record2?(i[e.action](e.record,e.value),console.log("no second record")):(i[e.action](e.record,e.record2,e.value),console.log(" second record exists")),e.editing=!1},e.cancel=function(){e.value=e.oldval,e.editing=!1}},restrict:"E",replace:!0,templateUrl:"template_editable_input.html"}}),angular.module("ptoApp").constant("baseURLEmployee","https://jhwhb4l88l.execute-api.us-east-1.amazonaws.com/dev/").factory("employeeTestFactory",["$resource","baseURLEmployee",function(e,t){var o,n=e(t+"employee/:employeeid",{employeeid:"@employeeid"},{get:{method:"GET"}});return{get:function(e){return o||(o=n.get({employeeid:e}).$promise.then(function(e){return e})),o}}}]),angular.module("ptoApp").directive("groupCard",["$filter",function(e){return{restrict:"E",scope:{cardobj:"=cardobj",settings:"=settings"},controller:["$scope","$element","$attrs","$location","$injector",function(e,t,o,n,r){console.log(e.cardobj.timeOffGroup)}],replace:!0,templateUrl:"views/group_card.html"}}]),angular.module("ptoApp").directive("ruleCard",["$filter",function(e){return{restrict:"E",scope:{cardobj:"=cardobj",settings:"=settings"},controller:["$scope","$element","$attrs","$location","$injector",function(e,t,o,n,r){console.log(e.cardobj.timeOffGroup)}],replace:!0,templateUrl:"views/rule_card.html"}}]),angular.module("ptoApp").constant("baseURLEmployee","https://jhwhb4l88l.execute-api.us-east-1.amazonaws.com/dev/").constant("baseURLEmployeeType","https://313eil8vh4.execute-api.us-east-1.amazonaws.com/dev/").constant("baseURLRequest","https://nqehj2871e.execute-api.us-east-1.amazonaws.com/dev/").constant("baseURLTimeOffGroup","https://pwqlomgq89.execute-api.us-east-1.amazonaws.com/dev/").constant("baseURLTimeType","https://jq2npw66ai.execute-api.us-east-1.amazonaws.com/dev/").constant("baseURLTimeState","https://hmmoye191c.execute-api.us-east-1.amazonaws.com/dev/").factory("employeeFactory",["$resource","baseURLEmployee",function(e,t){return e(t+"employee/:employeeid",{employeeid:"@employeeid"},{get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},remove:{method:"DELETE"},delete:{method:"DELETE"},update:{method:"PUT"}})}]).factory("employeeTypeFactory",["$resource","baseURLEmployeeType",function(e,t){return e(t+"employeetype/:employeetypeid",{employeetypeid:"@employeetypeid"},{get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},remove:{method:"DELETE"},delete:{method:"DELETE"},update:{method:"PUT"}})}]).factory("requestFactory",["$resource","baseURLRequest",function(e,t){return e(t+"request/:requestid",{requestid:"@requestid"},{get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},remove:{method:"DELETE"},delete:{method:"DELETE"},update:{method:"PUT"}})}]).factory("employeeRequestFactory",["$resource","baseURLRequest",function(e,t){return e(t+"request/employee/:employeeid",{employeeid:"@employeeid"},{query:{method:"GET",isArray:!0}})}]).factory("approverRequestFactory",["$resource","baseURLRequest",function(e,t){return e(t+"request/approver/:employeeid",{employeeid:"@employeeid"},{query:{method:"GET",isArray:!0}})}]).factory("timeOffGroupFactory",["$resource","baseURLTimeOffGroup",function(e,t){return e(t+"timeoffgroup/:timeoffgroupid",{timeoffgroupid:"@timeoffgroupid"},{get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},remove:{method:"DELETE"},delete:{method:"DELETE"},update:{method:"PUT"}})}]).factory("timeTypeFactory",["$resource","baseURLTimeType",function(e,t){return e(t+"timetype/:timetypeid",{timetypeid:"@timetypeid"},{get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},remove:{method:"DELETE"},delete:{method:"DELETE"},update:{method:"PUT"}})}]),angular.module("ptoApp").constant("baseURLTimeOffGroup","https://pwqlomgq89.execute-api.us-east-1.amazonaws.com/dev/").factory("timeOffGroupTestFactory",["$resource","baseURLTimeOffGroup",function(e,t){var o,n=e(t+"timeoffgroup/:timeoffgroupid",{timeoffgroupid:"@timeoffgroupid"},{get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},remove:{method:"DELETE"},delete:{method:"DELETE"},update:{method:"PUT"}});return{get:function(e){return o||(o=n.get({timeoffgroupid:e}).$promise.then(function(e){return e})),o},save:function(){return o||(o=n.save().$promise.then(function(e){return e})),o},query:function(){return o||(o=n.query().$promise.then(function(e){return e})),o},remove:function(e){return o||(o=n.delete({timeoffgroupid:e}).$promise.then(function(e){return e})),o},delete:function(e){return o||(o=n.delete({timeoffgroupid:e}).$promise.then(function(e){return e})),o},update:function(e){return o||(o=n.update({timeoffgroupid:e.id},{timeOffGroup:e.entityValue,timeOffGroupColor:e.entityColor}).$promise.then(function(e){return e})),o}}}]),angular.module("ptoApp").constant("baseURLTimeState","https://hmmoye191c.execute-api.us-east-1.amazonaws.com/dev/").factory("timeStateTestFactory",["$resource","baseURLTimeState",function(e,t){var o,n=e(t+"timestate/:timestateid",{timestateid:"@timestateid"},{get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},remove:{method:"DELETE"},delete:{method:"DELETE"},update:{method:"PUT"}});return{get:function(e){return o||(o=n.get({timestateid:e}).$promise.then(function(e){return e})),o},save:function(){return o||(o=n.save().$promise.then(function(e){return e})),o},query:function(){return o||(o=n.query().$promise.then(function(e){return e})),o},remove:function(e){return o||(o=n.delete({timestateid:e}).$promise.then(function(e){return e})),o},delete:function(e){return o||(o=n.delete({timestateid:e}).$promise.then(function(e){return e})),o},update:function(e){return o||(o=n.update({timestateid:e.id},{timeState:e.entityValue,timeStateColor:e.entityColor}).$promise.then(function(e){return e})),o}}}]),angular.module("ptoApp").constant("baseURLTimeType","https://jq2npw66ai.execute-api.us-east-1.amazonaws.com/dev/").factory("timeTypeTestFactory",["$resource","baseURLTimeType",function(e,t){var o,n=e(t+"timetype/:timetypeid",{timetypeid:"@timetypeid"},{get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},remove:{method:"DELETE"},delete:{method:"DELETE"},update:{method:"PUT"}});return{get:function(e){return o||(o=n.get({timetypeid:e}).$promise.then(function(e){return e})),o},save:function(){return o||(o=n.save().$promise.then(function(e){return e})),o},query:function(){return o||(o=n.query().$promise.then(function(e){return e})),o},remove:function(e){return o||(o=n.delete({timetypeid:e}).$promise.then(function(e){return e})),o},delete:function(e){return o||(o=n.delete({timetypeid:e}).$promise.then(function(e){return e})),o},update:function(e){return o||(o=n.update({timetypeid:e.id},{timeType:e.entityValue}).$promise.then(function(e){return e})),o}}}]),angular.module("ptoApp").directive("userCard",["$filter",function(e){return{restrict:"E",scope:{cardobj:"=cardobj",updatedb:"&update",deletedb:"&delete",adddb:"&add"},controller:["$scope","$element","$attrs","$location","$injector",function(e,t,o,n,r){function i(e){var t=e.date,o=e.mode;return"day"===o&&(0===t.getDay()||6===t.getDay())}function a(t){var o=t.date,n=t.mode;if("day"===n)for(var r=new Date(o).setHours(0,0,0,0),i=0;i<e.events.length;i++){var a=new Date(e.events[i].date).setHours(0,0,0,0);if(r===a)return e.events[i].status}return""}e.edit=function(){"edit"===e.cardobj.cardState?e.cardobj.cardState="view":e.cardobj.cardState="edit","view"===e.cardobj.cardState&&e.updatedb({value:e.cardobj})},e.delete=function(){e.deletedb({value:e.cardobj.employeeid})},e.cardobj.employeeStartDate=new Date(e.cardobj.employeeStartDate),e.inlineOptions={customClass:a,minDate:new Date,showWeeks:!0},e.dateOptions={dateDisabled:i,formatYear:"yy",maxDate:new Date(2020,5,22),minDate:new Date,startingDay:1},e.toggleMin=function(){e.inlineOptions.minDate=e.inlineOptions.minDate?null:new Date,e.dateOptions.minDate=e.inlineOptions.minDate},e.toggleMin(),e.open=function(t){console.log("open1:"+e.popup1.opened),e.popup1.opened=!0},e.setDate=function(t,o,n){e.dt=new Date(t,o,n)},e.formats=["dd-MMMM-yyyy","yyyy/MM/dd","dd.MM.yyyy","shortDate"],e.format=e.formats[0],e.altInputFormats=["M!/d!/yyyy"],e.popup1={opened:!1};var l=new Date;l.setDate(l.getDate()+1);var s=new Date;s.setDate(l.getDate()+1),e.events=[{date:l,status:"full"},{date:s,status:"partially"}]}],replace:!0,templateUrl:"views/user_card.html"}}]);